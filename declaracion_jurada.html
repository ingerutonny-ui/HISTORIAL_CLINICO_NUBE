<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HC NUBE | DECLARACIÓN JURADA</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background-color: #f8fafc; font-family: 'Segoe UI', sans-serif; padding: 30px; display: flex; flex-direction: column; align-items: center; }
        .form-container { max-width: 1100px; width: 100%; background: white; padding: 40px; border-radius: 40px; box-shadow: 0 15px 35px rgba(0,0,0,0.02); }
        .titulo-principal { font-weight: 800; color: #1e293b; font-size: 24px; text-transform: uppercase; text-align: center; margin-bottom: 30px; }
        .seccion-titulo { background-color: #f3f6f9; color: #1e293b; padding: 12px 20px; border-radius: 15px; font-weight: 800; font-size: 13px; margin-top: 30px; margin-bottom: 20px; text-transform: uppercase; }
        .form-label { font-size: 11px; font-weight: 800; color: #1e293b; text-transform: uppercase; margin-bottom: 2px; }
        .enfermedad-ejemplo { font-size: 10px; color: #64748b; margin-bottom: 12px; line-height: 1.4; font-style: italic; text-transform: uppercase; min-height: 30px; }
        .form-control, .form-select { border-radius: 15px; background-color: #f3f6f9; border: 2px solid transparent; padding: 12px; font-weight: 600; color: #1e293b; text-transform: uppercase; font-size: 13px; transition: 0.3s; width: 100%; }
        .form-select:focus, .form-control:focus { border-color: #24a174; background-color: white; outline: none; }
        .readonly-field { background-color: #f0fdf4; color: #24a174; border: 1px dashed #d1eadd; cursor: not-allowed; }
        .btn-siguiente { background-color: #24a174; border: none; border-radius: 20px; padding: 18px; font-weight: 700; width: 100%; color: white; margin-top: 40px; text-transform: uppercase; }
        .row-gap { margin-bottom: 25px; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div class="form-container">
        <h1 class="titulo-principal">DECLARACIÓN JURADA DE SALUD</h1>

        <form id="formSeccion1">
            <div class="seccion-titulo">1. AFILIACIÓN DEL TRABAJADOR</div>
            <div class="row row-gap">
                <div class="col-md-8">
                    <label class="form-label">APELLIDOS Y NOMBRES</label>
                    <input type="text" id="nombre_completo" class="form-control readonly-field" readonly>
                </div>
                <div class="col-md-4">
                    <label class="form-label">CÓDIGO DE PACIENTE</label>
                    <input type="text" id="codigo_id" class="form-control readonly-field" readonly style="text-align: center;">
                </div>
            </div>
            <div class="row row-gap">
                <div class="col-md-2"><label class="form-label">EDAD</label><input type="number" id="edad" class="form-control" required></div>
                <div class="col-md-3">
                    <label class="form-label">SEXO</label>
                    <select id="sexo" class="form-select" required><option value="MASCULINO">MASCULINO</option><option value="FEMENINO">FEMENINO</option></select>
                </div>
                <div class="col-md-4"><label class="form-label">FECHA DE NACIMIENTO</label><input type="date" id="fecha_nacimiento" class="form-control" required></div>
                <div class="col-md-3"><label class="form-label">LUGAR DE NACIMIENTO</label><input type="text" id="lugar_nacimiento" class="form-control"></div>
            </div>
            <div class="row row-gap">
                <div class="col-md-5"><label class="form-label">AV./CALLE</label><input type="text" id="domicilio_av_calle" class="form-control"></div>
                <div class="col-md-2"><label class="form-label">NÚMERO</label><input type="text" id="domicilio_numero" class="form-control"></div>
                <div class="col-md-5"><label class="form-label">BARRIO / ZONA</label><input type="text" id="barrio" class="form-control"></div>
            </div>
            <div class="row row-gap">
                <div class="col-md-3"><label class="form-label">CIUDAD</label><input type="text" id="ciudad" class="form-control"></div>
                <div class="col-md-3"><label class="form-label">PAÍS</label><input type="text" id="pais" class="form-control" value="BOLIVIA"></div>
                <div class="col-md-3"><label class="form-label">TELÉFONO</label><input type="text" id="telefono" class="form-control"></div>
                <div class="col-md-3">
                    <label class="form-label">ESTADO CIVIL</label>
                    <select id="estado_civil" class="form-select">
                        <option value="SOLTERO(A)">SOLTERO(A)</option>
                        <option value="CASADO(A)">CASADO(A)</option>
                        <option value="DIVORCIADO(A)">DIVORCIADO(A)</option>
                        <option value="VIUDO(A)">VIUDO(A)</option>
                    </select>
                </div>
            </div>
            <div class="row row-gap">
                <div class="col-md-12"><label class="form-label">PROFESIÓN O LABOR QUE DESEMPEÑA</label><input type="text" id="profesion_labor" class="form-control"></div>
            </div>
            <button type="submit" class="btn-siguiente">PASAR A SECCIÓN 2: ANTECEDENTES</button>
        </form>

        <form id="formSeccion2" class="hidden">
            <div class="seccion-titulo">2. ANTECEDENTES DE SALUD (MARQUE SI O NO)</div>
            <p style="font-size: 11px; color: #64748b; margin-bottom: 25px; text-transform: uppercase; font-weight: 700;">POR FAVOR LEA CON CUIDADO Y MARQUE (SI) O (NO) SI USTED FUE DIAGNOSTICADO DE ALGUNA DE LAS ENFERMEDADES MENCIONADAS.</p>
            
            <div class="row" id="contenedorPreguntasSalud">
                </div>

            <div class="seccion-titulo" style="background-color: #fff1f2;">ALERGIAS</div>
            <div class="row row-gap">
                <div class="col-md-6"><label class="form-label">ALERGIAS MEDICAMENTOS</label><input type="text" id="alergia_med" class="form-control" placeholder="DETALLE O PONGA NO"></div>
                <div class="col-md-6"><label class="form-label">ALERGIAS ALIMENTOS</label><input type="text" id="alergia_ali" class="form-control" placeholder="DETALLE O PONGA NO"></div>
            </div>
            <button type="submit" class="btn-siguiente">PASAR A SECCIÓN 3: LABORAL Y HÁBITOS</button>
        </form>

        <form id="formSeccion3" class="hidden">
            <div class="seccion-titulo">3.1 HÁBITOS (SI/NO, CANTIDAD, FRECUENCIA)</div>
            <div class="row row-gap">
                <div class="col-md-4">
                    <label class="form-label">ALCOHOL</label>
                    <input type="text" id="habito_alcohol" class="form-control" placeholder="SI/NO - CANTIDAD - FRECUENCIA">
                </div>
                <div class="col-md-4">
                    <label class="form-label">TABACO</label>
                    <input type="text" id="habito_tabaco" class="form-control" placeholder="SI/NO - CANTIDAD - FRECUENCIA">
                </div>
                <div class="col-md-4">
                    <label class="form-label">DROGAS / COCA (BOLO)</label>
                    <input type="text" id="habito_coca" class="form-control" placeholder="SI/NO - CANTIDAD - FRECUENCIA">
                </div>
            </div>

            <div class="seccion-titulo">3.2 ANTECEDENTES OCUPACIONALES (HISTORIA LABORAL)</div>
            <p class="enfermedad-ejemplo" style="margin-bottom: 10px;">ESCRIBA: EDAD INICIO, EMPRESA, OCUPACIÓN, TIEMPO Y RIESGOS.</p>
            <div class="row row-gap">
                <div class="col-md-12">
                    <textarea id="antecedentes_ocupacionales" class="form-control" rows="5" placeholder="EJ: 18 AÑOS - EMPRESA X - ARQUITECTO - 2 AÑOS - POLVO, RUIDO"></textarea>
                </div>
            </div>

            <div class="seccion-titulo">3.3 ANTECEDENTES DE RIESGOS EXPUESTOS DURANTE SU VIDA LABORAL</div>
            <div class="row row-gap">
                <div class="col-md-3"><label class="form-label">FÍSICOS (RUIDO, RADIACIÓN)</label><input type="text" id="riesgo_fisico" class="form-control"></div>
                <div class="col-md-3"><label class="form-label">QUÍMICOS (POLVO, HUMOS)</label><input type="text" id="riesgo_quimico" class="form-control"></div>
                <div class="col-md-3"><label class="form-label">ERGONÓMICOS (POSTURAS)</label><input type="text" id="riesgo_ergonomico" class="form-control"></div>
                <div class="col-md-3"><label class="form-label">BIOLÓGICOS / OTROS</label><input type="text" id="riesgo_biologico" class="form-control"></div>
            </div>

            <div class="row row-gap">
                <div class="col-md-12"><label class="form-label">OBSERVACIONES ADICIONALES</label><input type="text" id="observaciones_finales" class="form-control"></div>
            </div>

            <button type="submit" class="btn-siguiente" style="background-color: #1e293b;">FINALIZAR Y ENVIAR A HISTORIAL_CLINICO_NUBE</button>
        </form>
    </div>

    <script>
        const preguntas = [
            { id: "vista", titulo: "1. VISTA", desc: "DISMINUCIÓN VISIÓN, DALTONISMO, GLAUCOMA, RETINOPATÍA, AMETROPÍA, PTERIGIÓN, MIOPÍA." },
            { id: "auditivo", titulo: "2. AUDITIVO", desc: "SORDERA, OTITIS, TRAUMA ACÚSTICO, PERFORACIÓN TIMPÁNICA, VÉRTIGO." },
            { id: "respiratorios", titulo: "3. RESPIRATORIOS", desc: "TUBERCULOSIS, EPOC, ASMA, BRONQUITIS, RINITIS, FARINGITIS, SINUSITIS." },
            { id: "cardiovasculares", titulo: "4. CARDIO-VASCULARES", desc: "PRESIÓN ALTA, ARRITMIA, TROMBOSIS, ANGINA, INFARTO, AVC, INSUFICIENCIA CARDIACA." },
            { id: "estomago", titulo: "5. ESTÓMAGO / HÍGADO / PÁNCREAS", desc: "GASTRITIS, ÚLCERA, REFLUJO, CIRROSIS, HERNIA, ESPLENOMEGALIA, HEMORROIDES." },
            { id: "sangre", titulo: "6. SANGRE", desc: "ANEMIA, COAGULOPATÍA, POLIGLOBULIA, OTRAS." },
            { id: "genitourinario", titulo: "7. GENITO / URINARIO", desc: "INSUFICIENCIA RENAL, INFECCIÓN URINARIA, CISTITIS, ANOMALÍA ANATÓMICA." },
            { id: "its", titulo: "8. ITS", desc: "ITS, CONTACTOS DE RIESGO." },
            { id: "sistema_nervioso", titulo: "9. SISTEMA NERVIOSO", desc: "EPILEPSIA, VÉRTIGO, APNEA, DERRAME CEREBRAL, MIGRAÑA, TEC." },
            { id: "psiquiatricos", titulo: "10. PSIQUIÁTRICOS / MENTALES", desc: "DEPRESIÓN, ANSIEDAD, FOBIAS, PSICOSIS, TRASTORNO ESQUIZOIDE." },
            { id: "osteomusculares", titulo: "11. OSTEOMUSCULARES", desc: "LUMBALGIA, CERVICALGIA, ESCOLIOSIS, FRACTURAS, ARTRALGIA, MIOPATÍAS." },
            { id: "endocrinologicos", titulo: "12. ENDOCRINOLÓGICOS / METABÓLICOS", desc: "DIABETES, HIPERTIROIDISMO, HIPOTIROIDISMO, OBESIDAD, GOTA." },
            { id: "reumatologicos", titulo: "13. REUMATOLÓGICOS", desc: "ARTRITIS REUMATOIDE, LUPUS, ETC." },
            { id: "generales", titulo: "14. GENERALES", desc: "CÁNCER, ADENOPATÍAS, HERNIAS: ABDOMINALES, UMBILICALES, INGUINALES." },
            { id: "dermatologicas", titulo: "15. DERMATOLÓGICAS", desc: "DERMATITIS, PSORIASIS, VITÍLIGO, ONICOMICOSIS, HONGOS." },
            { id: "infecciones", titulo: "16. INFECCIONES", desc: "HEPATITIS, TIFOIDEA, BRUCELOSIS, HIV, PARASITOSIS, CHAGAS, RUBEOLA." }
        ];

        window.onload = () => {
            document.getElementById('nombre_completo').value = `${localStorage.getItem('temp_apellidos') || ''} ${localStorage.getItem('temp_nombres') || ''}`;
            document.getElementById('codigo_id').value = localStorage.getItem('temp_codigo') || "0";
            
            const contenedor = document.getElementById('contenedorPreguntasSalud');
            preguntas.forEach(p => {
                contenedor.innerHTML += `
                    <div class="col-md-6 row-gap">
                        <label class="form-label">${p.titulo}</label>
                        <div class="enfermedad-ejemplo">${p.desc}</div>
                        <select id="${p.id}" class="form-select"><option value="NO">NO</option><option value="SI">SI (X)</option></select>
                    </div>`;
            });
        };

        document.body.addEventListener('input', (e) => { 
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                e.target.value = e.target.value.toUpperCase();
            }
        });

        document.getElementById('formSeccion1').onsubmit = (e) => {
            e.preventDefault();
            document.getElementById('formSeccion1').classList.add('hidden');
            document.getElementById('formSeccion2').classList.remove('hidden');
            window.scrollTo(0, 0);
        };

        document.getElementById('formSeccion2').onsubmit = (e) => {
            e.preventDefault();
            document.getElementById('formSeccion2').classList.add('hidden');
            document.getElementById('formSeccion3').classList.remove('hidden');
            window.scrollTo(0, 0);
        };

        document.getElementById('formSeccion3').onsubmit = async (e) => {
            e.preventDefault();
            alert("DECLARACIÓN COMPLETADA CON ÉXITO. LISTO PARA INTEGRAR CON EL SERVIDOR.");
        };
    </script>
</body>
</html>
